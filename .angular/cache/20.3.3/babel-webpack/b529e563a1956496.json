{"ast":null,"code":"import _asyncToGenerator from \"D:/todos-task/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from './auth.service';\nexport const authGuard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* () {\n    const auth = inject(AuthService);\n    const router = inject(Router);\n    // Try to ensure session state is current\n    if (auth.user() === null) {\n      yield auth.ensureCsrfCookie();\n      yield auth.refreshSession();\n    }\n    if (auth.user() === null) {\n      router.navigate(['/login']);\n      return false;\n    }\n    return true;\n  });\n  return function authGuard() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}