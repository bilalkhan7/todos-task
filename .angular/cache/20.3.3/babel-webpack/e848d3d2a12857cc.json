{"ast":null,"code":"import _asyncToGenerator from \"D:/todos-task/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Router } from '@angular/router';\nimport { inject } from '@angular/core';\nimport { AuthService } from './auth.service';\nexport const authGuard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* () {\n    const auth = inject(AuthService);\n    const router = inject(Router);\n    // If user is unknown, try to refresh; otherwise use current signal\n    if (!auth.user()) {\n      yield auth.refreshSession().catch(() => {});\n    }\n    if (!auth.user()) {\n      router.navigate(['/login']);\n      return false;\n    }\n    return true;\n  });\n  return function authGuard() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}